CSDN地址：https://blog.csdn.net/sinat_27690807/article/details/110517732
又没审核过，但我准备慢慢搬，调格式真的要死人，SOS。

最近在做零信任相关软件的安装和调试，主要使用系统为linux的CentOS 7、Windows7和Win Server 2008 R2 64。

涉及到的软件为，Squid、OpenVPN、fwknop。
        
    所有使用软件已经上传至百度云。
    链接：https://pan.baidu.com/s/15pDpWjnWtTe5CIoic02Erg 提取码：q72t 
#1、设置实验环境
##1.1 安装虚拟机
本文涉及到的操作全部通过VMware Workstation15 Pro虚拟机完成，版本为15.5.7。

下载CentOS 7、Win7和Windows Server 2008 R2 x64安装.iso文件，CentOS 7作为服务端，Win7作为客户端，Windows Server 2008可视为内网服务器，CentOS 7和Win 7都需要安装VMware Tools辅助工具，方便传输文件。

首先安装虚拟机，然后分别安装三个所需虚拟机，每次安装记得修改虚拟光驱所存的.iso文件。

##1.2 配置网络环境
安装完成后，点击VMware的编辑按钮，选择虚拟机网络编辑器，修改VMnet1（仅主机模式）和VMnet8（NAT模式）网卡。

将VMnet1网卡的子网IP设置为192.168.0.0，子网掩码255.255.255.0，视作企业内网；将VMnet8的子网IP设置为172.16.0.0，子网掩码为255.255.0.0，视作互联网。

修改CentOS 7的设备信息，添加网络适配器2，两个适配器均选择自定义模式，适配器1网卡修改为VMnet1，适配器2网卡修改为VMnet8。
###1.2.1 Win Server
将Win Server 2008的网络适配器修改为VMnet1。

进入虚拟机，选中右下角网络连接按钮，右键进入网络和共享中心，修改本地连接属性中的的ipv4协议，将IP地址设置为192.168.0.10，子网掩码设置为255.255.255.0。

打开命令行，输入ipconfig查询IP地址修改是否成功。
![在这里插入图片描述](https://img-blog.csdnimg.cn/20201203100627288.png)
###1.2.2 Win 7
将Win7的网络适配器修改为VMnet8。

进入虚拟机，选中右下角网络连接按钮，右键进入网络和共享中心，修改本地连接属性中的的ipv4协议，将IP地址设置为172.16.10.10，子网掩码设置为255.255.0.0，默认网关172.16.0.2，DNS服务器172.16.0.2。

打开命令行，输入ipconfig查询IP地址修改是否成功。
